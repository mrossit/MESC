# ==========================================
# MESC - Ministros Extraordinários da Sagrada Comunhão
# Template de Variáveis de Ambiente
# ==========================================
#
# INSTRUÇÕES:
# 1. Copie este arquivo para .env
# 2. Substitua os valores CHANGE_ME por valores reais e seguros
# 3. NUNCA commite o arquivo .env no Git
#
# ==========================================

# ==========================================
# SERVIDOR
# ==========================================
NODE_ENV=production
PORT=5005

# ==========================================
# BANCO DE DADOS
# ==========================================
# PostgreSQL (Produção - Neon Serverless)
DATABASE_URL=postgresql://user:password@host:5432/database

# SQLite (Desenvolvimento Local - opcional)
# Comentar DATABASE_URL acima e usar o banco local se necessário
# O sistema detectará automaticamente se DATABASE_URL não estiver definido

# ==========================================
# AUTENTICAÇÃO E SEGURANÇA
# ==========================================

# JWT Secret (OBRIGATÓRIO - GERAR VALOR FORTE)
# Gerar com: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=CHANGE_ME_TO_RANDOM_64_CHAR_HEX_STRING

# Tempo de expiração do token JWT (padrão: 24 horas)
JWT_EXPIRES_IN=24h

# Session Secret (OBRIGATÓRIO - GERAR VALOR FORTE)
# Gerar com: openssl rand -base64 64
SESSION_SECRET=CHANGE_ME_TO_RANDOM_BASE64_STRING

# ==========================================
# CORS E ORIGENS PERMITIDAS
# ==========================================
# Lista de origens permitidas separadas por vírgula
# Exemplo: https://saojudastadeu.app,https://app.saojudastadeu.replit.dev
ALLOWED_ORIGINS=https://seu-dominio.com,https://seu-dominio.replit.dev

# ==========================================
# CRIPTOGRAFIA DE DADOS SENSÍVEIS
# ==========================================
# Chave de criptografia AES-256 (OBRIGATÓRIO para dados religiosos)
# Gerar com: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=CHANGE_ME_TO_RANDOM_32_BYTE_HEX_STRING

# ==========================================
# BACKUP E ARMAZENAMENTO
# ==========================================
# Senha para criptografia de backups
# Gerar com: openssl rand -base64 32
BACKUP_PASSWORD=CHANGE_ME_TO_RANDOM_BACKUP_PASSWORD

# AWS S3 para backup em nuvem (opcional)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here
S3_BACKUP_BUCKET=mesc-backups

# ==========================================
# LOGS E MONITORAMENTO
# ==========================================
# Nível de log (debug, info, warn, error)
LOG_LEVEL=info

# Sentry DSN para monitoramento de erros (opcional)
SENTRY_DSN=https://your_sentry_dsn_here

# ==========================================
# INTEGRAÇÃO WHATSAPP (OPCIONAL)
# ==========================================
# API Key do serviço de WhatsApp
WHATSAPP_API_KEY=your_whatsapp_api_key_here
WHATSAPP_PHONE_NUMBER=+5511999999999

# ==========================================
# EMAIL (OPCIONAL - para recuperação de senha)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=seu-email@gmail.com
SMTP_PASSWORD=sua_senha_de_aplicativo
SMTP_FROM=MESC <noreply@saojudastadeu.app>

# ==========================================
# ANALYTICS (OPCIONAL)
# ==========================================
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# ==========================================
# REPLIT (se hospedado no Replit)
# ==========================================
REPLIT_DEPLOYMENT=1
REPL_SLUG=mesc-saojudastadeu

# ==========================================
# RATE LIMITING (OPCIONAL - valores padrão)
# ==========================================
# Requests gerais: 100 requisições a cada 15 minutos
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# Auth: 5 requisições por minuto
AUTH_RATE_LIMIT_WINDOW_MS=60000
AUTH_RATE_LIMIT_MAX=5

# Password Reset: 3 requisições a cada 15 minutos
PASSWORD_RESET_RATE_LIMIT_WINDOW_MS=900000
PASSWORD_RESET_RATE_LIMIT_MAX=3

# ==========================================
# REDIS (OPCIONAL - para rate limiting avançado)
# ==========================================
REDIS_URL=redis://localhost:6379

# ==========================================
# FEATURE FLAGS (OPCIONAL)
# ==========================================
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_WHATSAPP_NOTIFICATIONS=false
ENABLE_ANALYTICS=true
ENABLE_DEBUG_LOGS=false

# ==========================================
# FRONTEND (Vite)
# ==========================================
# URL da API (geralmente relativo)
VITE_API_URL=/

# ==========================================
# NOTAS DE SEGURANÇA
# ==========================================
#
# 1. NUNCA commite este arquivo com valores reais no Git
# 2. Mantenha .env no .gitignore
# 3. Use senhas fortes e aleatórias
# 4. Rotacione secrets periodicamente (a cada 90 dias)
# 5. Em produção, use gerenciadores de secrets (AWS Secrets Manager, etc)
# 6. Não compartilhe este arquivo via email ou chat não criptografado
# 7. Cada ambiente (dev, staging, prod) deve ter seus próprios secrets
#
# ==========================================
