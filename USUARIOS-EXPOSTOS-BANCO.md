# üíÄ USU√ÅRIOS EXPOSTOS - BANCO DE DADOS COMMITADO

**Data de Extra√ß√£o:** 06/10/2025
**Extra√≠do por:** Claude (sob ordem do Senhor Vangrey)
**Arquivo Fonte:** `local.db` (212 KB commitado no Git)

---

## ‚ö†Ô∏è AVISO CR√çTICO

Este arquivo cont√©m **DADOS REAIS** extra√≠dos do banco de dados SQLite que estava **COMMITADO NO GIT**.

**Qualquer pessoa com acesso ao reposit√≥rio tem acesso a estes dados.**

---

## üìä RESUMO DA EXPOSI√á√ÉO

- **Total de usu√°rios expostos:** 2
- **Hashes de senha expostos:** 2
- **Emails expostos:** 2
- **Dados pessoais expostos:** Sim
- **Dados religiosos expostos:** N√£o (campos vazios neste banco)

---

## üë§ USU√ÅRIO #1

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS DE IDENTIFICA√á√ÉO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

ID:              5d4d1608-8331-46ca-8055-1fcb01688cd5
Email:           admin@local.dev
Nome:            Administrador Local
Primeiro Nome:   Administrador
√öltimo Nome:     Local
Role:            coordenador
Status:          active

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
CREDENCIAIS (HASH BCRYPT)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

password_hash:   $2b$10$tKSWu5f54P2z1aGTorrnl.pAUpazjetGDzy5IbrodRRHaROr7rqY.

‚ö†Ô∏è  VULNERABILIDADE: Hash bcrypt exposto
    Atacante pode fazer brute force OFFLINE
    Sem rate limiting em ataque offline!

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
SEGURAN√áA
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Requer Mudan√ßa de Senha:  N√ÉO (0)
√öltima Mudan√ßa de Senha:  NULL
Criado em:                 2025-09-13 21:57:25
Atualizado em:             2025-09-13 21:57:25
√öltimo Login:              NULL

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS PESSOAIS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Telefone:                  NULL
WhatsApp:                  NULL
Endere√ßo:                  NULL
Cidade:                    NULL
CEP:                       NULL
Data de Nascimento:        NULL
Estado Civil:              NULL

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS RELIGIOSOS (LGPD ART. 11 - SENS√çVEL)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Data de Batismo:           NULL
Par√≥quia de Batismo:       NULL
Data de Confirma√ß√£o:       NULL
Par√≥quia de Confirma√ß√£o:   NULL
Data de Casamento:         NULL
Par√≥quia de Casamento:     NULL

‚ö†Ô∏è  STATUS: Campos vazios (sem dados sens√≠veis neste usu√°rio)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
MINIST√âRIO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

In√≠cio no Minist√©rio:      NULL
Posi√ß√£o Preferida:         NULL
Treinamento Lit√∫rgico:     N√ÉO (0)
Total de Servi√ßos:         0
Forma√ß√£o Completa:         N√ÉO (0)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

---

## üë§ USU√ÅRIO #2

```
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS DE IDENTIFICA√á√ÉO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

ID:              30510913-7eab-43d9-adaf-b7b4fe58acc2
Email:           rossit@icloud.com
Nome:            Coordenador Rossit
Primeiro Nome:   Coordenador
√öltimo Nome:     Rossit
Role:            coordenador
Status:          active

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
CREDENCIAIS (HASH BCRYPT)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

password_hash:   $2b$10$lAn2RhLPmI3JYoQWsdIWv.dWYy6peWSA/M/AKa/syAHI8wGZoNUPS

‚ö†Ô∏è  VULNERABILIDADE: Hash bcrypt exposto
    Atacante pode fazer brute force OFFLINE
    Sem rate limiting em ataque offline!

üî¥ CR√çTICO: Este email (rossit@icloud.com) aparece em scripts hardcoded!
    - scripts/create-rossit-user.ts ‚Üí senha: "senha123"
    - scripts/reset-rossit-password.ts ‚Üí senha: "Admin@2024"

    Atacante pode testar estas senhas contra o hash!

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
SEGURAN√áA
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Requer Mudan√ßa de Senha:  N√ÉO (0)
√öltima Mudan√ßa de Senha:  NULL
Criado em:                 2025-09-13 23:14:54
Atualizado em:             2025-09-24 11:15:26
√öltimo Login:              2025-09-26 13:24:14.294Z

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS PESSOAIS
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Telefone:                  NULL
WhatsApp:                  NULL
Endere√ßo:                  NULL
Cidade:                    NULL
CEP:                       NULL
Data de Nascimento:        NULL
Estado Civil:              NULL

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
DADOS RELIGIOSOS (LGPD ART. 11 - SENS√çVEL)
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Data de Batismo:           NULL
Par√≥quia de Batismo:       NULL
Data de Confirma√ß√£o:       NULL
Par√≥quia de Confirma√ß√£o:   NULL
Data de Casamento:         NULL
Par√≥quia de Casamento:     NULL

‚ö†Ô∏è  STATUS: Campos vazios (sem dados sens√≠veis neste usu√°rio)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
MINIST√âRIO
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

In√≠cio no Minist√©rio:      NULL
Posi√ß√£o Preferida:         NULL
Treinamento Lit√∫rgico:     N√ÉO (0)
Total de Servi√ßos:         0
Forma√ß√£o Completa:         N√ÉO (0)

‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
```

---

## üîì TENTATIVA DE QUEBRA DOS HASHES

### Senhas Conhecidas dos Scripts:

```python
# Senhas encontradas em scripts hardcoded:
senhas_conhecidas = [
    'senha123',        # scripts/create-rossit-user.ts:10
    'Admin@2024',      # scripts/reset-rossit-password.ts:22
    'september2024',   # scripts/create-temp-admin.ts:11
    'Admin123456',     # scripts/create-simple-user.ts
    'admin123',        # scripts/create-local-user.ts
]

# Testar contra os hashes:
import bcrypt

hash_admin = b'$2b$10$tKSWu5f54P2z1aGTorrnl.pAUpazjetGDzy5IbrodRRHaROr7rqY.'
hash_rossit = b'$2b$10$lAn2RhLPmI3JYoQWsdIWv.dWYy6peWSA/M/AKa/syAHI8wGZoNUPS'

for senha in senhas_conhecidas:
    if bcrypt.checkpw(senha.encode(), hash_admin):
        print(f"‚úÖ SENHA ADMIN ENCONTRADA: {senha}")

    if bcrypt.checkpw(senha.encode(), hash_rossit):
        print(f"‚úÖ SENHA ROSSIT ENCONTRADA: {senha}")
```

**‚ö†Ô∏è  N√ÉO EXECUTEI ESTE C√ìDIGO, mas qualquer atacante pode executar offline.**

---

## üìã AN√ÅLISE DE VULNERABILIDADE

### Schema da Tabela:

A tabela `users` tem **M√öLTIPLOS CAMPOS DUPLICADOS**, indicando migra√ß√µes problem√°ticas:

```sql
-- Campos duplicados encontrados:
password          (antigo)
password_hash     (novo)
passwordHash      (duplicata?)

firstName         (antigo)
first_name        (novo)

lastName          (antigo)
last_name         (novo)

requiresPasswordChange     (antigo)
requires_password_change   (novo)
mustChangePassword         (duplicata?)
```

**Problema:** 3 campos de senha diferentes! Qual √© usado?

### Criptografia:

```sql
-- SENHAS:
‚úÖ password_hash: bcrypt (seguro, mas exposto)
‚ùå Sem criptografia em sess√£o (armazenamento)
‚ùå Sem criptografia at-rest (banco)

-- DADOS RELIGIOSOS:
‚ùå baptism_parish: TEXT (plaintext)
‚ùå confirmation_parish: TEXT (plaintext)
‚ùå marriage_parish: TEXT (plaintext)

-- DADOS PESSOAIS:
‚ùå address: TEXT (plaintext)
‚ùå phone: TEXT (plaintext)
‚ùå whatsapp: TEXT (plaintext)
```

**NENHUM dado sens√≠vel est√° criptografado al√©m do hash da senha!**

---

## üî• EXPOSI√á√ÉO REAL

### O que um atacante TEM agora:

1. ‚úÖ **2 emails v√°lidos de coordenadores**
   - admin@local.dev
   - rossit@icloud.com

2. ‚úÖ **2 hashes bcrypt**
   - Pode fazer brute force offline (sem rate limit!)
   - Pode testar senhas dos scripts hardcoded

3. ‚úÖ **2 UUIDs v√°lidos**
   - Pode fazer ataques direcionados
   - Pode falsificar JWTs (se tiver o secret hardcoded)

4. ‚úÖ **Datas de cria√ß√£o e √∫ltimo login**
   - Pode inferir padr√µes de uso
   - Pode planejar timing de ataques

### O que um atacante PODE fazer:

#### Cen√°rio 1: Brute Force Offline
```bash
# Usando hashcat (GPU)
hashcat -m 3200 -a 0 hashes.txt wordlist.txt

# Velocidade t√≠pica: 50.000-100.000 hashes/segundo
# Lista de 1 milh√£o de senhas = ~10-20 segundos
```

#### Cen√°rio 2: Testar Senhas Hardcoded
```bash
# Testar as 5 senhas conhecidas dos scripts
curl -X POST https://saojudastadeu.app/api/auth/login \
  -d '{"email":"rossit@icloud.com","password":"Admin@2024"}'

# Se acertar = ACESSO TOTAL COMO COORDENADOR
```

#### Cen√°rio 3: Credential Stuffing
```bash
# Usar emails em outros servi√ßos
# Exemplo: testar rossit@icloud.com em Gmail, Facebook, etc.
# Se usar mesma senha = COMPROMETIMENTO TOTAL
```

---

## üí∞ IMPACTO LEGAL (LGPD)

### Viola√ß√µes Identificadas:

| Artigo LGPD | Viola√ß√£o | Multa M√°xima |
|-------------|----------|--------------|
| **Art. 46** | Falta de medidas de seguran√ßa adequadas | R$ 50 milh√µes |
| **Art. 48** | N√£o comunica√ß√£o de incidente (se houve vazamento) | R$ 50 milh√µes |
| **Art. 11** | Tratamento inadequado de dados sens√≠veis (se houver) | R$ 50 milh√µes |

### Dados Expostos por Categoria:

| Categoria | Quantidade | Sensibilidade | Status |
|-----------|-----------|---------------|--------|
| **Identificadores** | 2 emails | Pessoal | ‚ùå EXPOSTO |
| **Credenciais** | 2 hashes | Cr√≠tico | ‚ùå EXPOSTO |
| **Dados Pessoais** | 0 (campos vazios) | Pessoal | ‚úÖ N√£o preenchido |
| **Dados Religiosos** | 0 (campos vazios) | SENS√çVEL | ‚úÖ N√£o preenchido |

**BOA NOT√çCIA:** Banco de desenvolvimento parece ter apenas dados de teste (campos vazios).

**M√Å NOT√çCIA:** Mesmo assim, exp√µe estrutura do banco e hashes de senhas de coordenadores.

---

## üö® A√á√ïES IMEDIATAS NECESS√ÅRIAS

### 1. Verificar Banco de Produ√ß√£o
```bash
# ‚ö†Ô∏è  URGENTE: Verificar se banco de PRODU√á√ÉO tamb√©m foi exposto

# Buscar no hist√≥rico do Git:
git log --all --full-history -- "*.db"

# Se retornar qualquer resultado = INCIDENTE CR√çTICO
```

### 2. Resetar Senhas dos Coordenadores Expostos
```bash
# Resetar imediatamente:
# - admin@local.dev
# - rossit@icloud.com

npm run tsx scripts/EMERGENCY-reset-admin-passwords.ts
```

### 3. Revogar Todos os Tokens JWT
```bash
# For√ßar re-login de todos os usu√°rios
npm run tsx scripts/EMERGENCY-revoke-all-tokens.ts
```

### 4. Limpar Hist√≥rico do Git
```bash
# ‚ö†Ô∏è  ATEN√á√ÉO: A√ß√£o irrevers√≠vel!

# Op√ß√£o 1: BFG Repo-Cleaner
java -jar bfg.jar --delete-files "*.db" .

# Op√ß√£o 2: git-filter-repo
git filter-repo --path local.db --invert-paths

# Op√ß√£o 3 (RECOMENDADO): Criar novo reposit√≥rio limpo
```

### 5. Notificar Usu√°rios Afetados
```
Assunto: IMPORTANTE - Atualiza√ß√£o de Seguran√ßa

Prezado(a) [Nome],

Por medida de seguran√ßa, estamos solicitando que todos os coordenadores
atualizem suas senhas imediatamente.

Acesse: https://saojudastadeu.app/change-password

Atenciosamente,
Equipe T√©cnica
```

### 6. Comunicar √† ANPD (se aplic√°vel)
```
Se o banco de PRODU√á√ÉO foi exposto:
- Comunicar √† ANPD em at√© 72 horas
- Notificar titulares dos dados
- Documentar o incidente
```

---

## üìä COMANDOS DE VERIFICA√á√ÉO EXTRAS

### Ver hist√≥rico completo do banco no Git:
```bash
git log --all --full-history --oneline -- local.db
```

### Ver conte√∫do do banco em commits antigos:
```bash
# Ver em commit espec√≠fico
git show COMMIT_HASH:local.db > old-db-snapshot.db
sqlite3 old-db-snapshot.db "SELECT * FROM users;"
```

### Ver quem commitou o banco:
```bash
git log --all --full-history --format="%H %an %ae %ai" -- local.db
```

### Exportar todos os dados para an√°lise forense:
```bash
sqlite3 local.db ".dump" > local-db-dump.sql
```

---

## üéØ CONCLUS√ÉO

### Resumo Executivo:

**EXPOSI√á√ÉO CONFIRMADA:**
- ‚úÖ 2 usu√°rios coordenadores
- ‚úÖ 2 hashes bcrypt
- ‚úÖ 2 emails v√°lidos
- ‚úÖ Estrutura completa do banco

**BOA NOT√çCIA:**
- ‚úÖ Apenas dados de desenvolvimento/teste
- ‚úÖ Campos sens√≠veis vazios (sem dados religiosos reais)
- ‚úÖ Apenas 2 usu√°rios (n√£o 50+)

**M√Å NOT√çCIA:**
- ‚ùå Hashes podem ser quebrados offline
- ‚ùå Senhas possivelmente conhecidas (scripts)
- ‚ùå Estrutura do banco exposta
- ‚ùå Indica que PODE haver mais bancos no hist√≥rico

### Pr√≥ximos Passos:

1. ‚úÖ **EXECUTAR VERIFICA√á√ÉO COMPLETA DO GIT** (hist√≥rico completo)
2. ‚úÖ **RESETAR SENHAS IMEDIATAMENTE**
3. ‚úÖ **REVOGAR TOKENS JWT**
4. ‚úÖ **LIMPAR HIST√ìRICO DO GIT**
5. ‚úÖ **VERIFICAR SE BANCO DE PRODU√á√ÉO FOI EXPOSTO**

---

**Relat√≥rio compilado por:** Claude (Anthropic AI)
**Sob ordem de:** Senhor Vangrey (Auditor de Primeira Classe)
**Data:** 06/10/2025
**Classifica√ß√£o:** CONFIDENCIAL - INCIDENTE DE SEGURAN√áA

---

## üîê AP√äNDICE: Hash Completo para An√°lise Forense

```
USU√ÅRIO 1 (admin@local.dev):
Hash bcrypt completo:
$2b$10$tKSWu5f54P2z1aGTorrnl.pAUpazjetGDzy5IbrodRRHaROr7rqY.

Formato bcrypt: $2b$[cost]$[salt][hash]
- Vers√£o: 2b
- Cost: 10 (1024 itera√ß√µes = 2^10)
- Salt: tKSWu5f54P2z1aGTorrnl.
- Hash: pAUpazjetGDzy5IbrodRRHaROr7rqY.

USU√ÅRIO 2 (rossit@icloud.com):
Hash bcrypt completo:
$2b$10$lAn2RhLPmI3JYoQWsdIWv.dWYy6peWSA/M/AKa/syAHI8wGZoNUPS

Formato bcrypt: $2b$[cost]$[salt][hash]
- Vers√£o: 2b
- Cost: 10 (1024 itera√ß√µes = 2^10)
- Salt: lAn2RhLPmI3JYoQWsdIWv.
- Hash: dWYy6peWSA/M/AKa/syAHI8wGZoNUPS
```

**Fim do Relat√≥rio de Exposi√ß√£o** üíÄ
